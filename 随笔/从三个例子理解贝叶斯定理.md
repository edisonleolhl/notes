![Time Flies](http://upload-images.jianshu.io/upload_images/2106579-70b8d4e9e4085069.jpg?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)## 贝叶斯定理

> 推荐阅读：
>
> *   [如何理解贝叶斯公式？](https://mp.weixin.qq.com/s?__biz=MzIyMTU0NDMyNA==&mid=2247487946&idx=1&sn=4fe810b8e5bf3545ecbbae7807e0c819&scene=19#wechat_redirect)
>   
>     
>
> *   [条件概率，全概率，贝叶斯公式理解](https://www.jianshu.com/p/c59851b1c0f3)

## 警察抓酒鬼

问题描述：酒鬼有90%概率外出喝酒，只有可能在A、B、C三个酒吧，概率相等，警察想去抓酒鬼，已知去了前两个酒吧都没抓到他，求去第三个酒吧抓到酒鬼的概率。

自己的解法：

*   用A、B代替前两个酒吧，C代替最后一个酒吧，C=1代表在酒吧C中抓到酒鬼，C=0代表没有在酒吧C中抓到酒鬼

    在C=1发生的情况下，A=0且B=0的概率为1，P(A=0,B=0|C=1)=1

    在A=0发生的情况下，B=0的概率为0.4/0.7，P(B=0|A=0)=0.4/0.7

    用贝叶斯公式可以得：

      ![image.png](https://upload-images.jianshu.io/upload_images/2106579-963af818c07f99c0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

李永乐老师的解法：

*   设事件A1为喝酒，事件A2为不喝酒，事件B1为警察在查前两个酒吧时抓住酒鬼，事件B2为警察在查前两个酒吧没抓住酒鬼

    酒鬼喝酒的情况下，警察在前两个酒吧没抓住酒鬼的概率，也就等于酒鬼喝酒在C的概率，P(B2|A1)=1/3

    酒鬼不喝酒的情况下，警察在前两个酒吧没抓住酒鬼的概率为1，P(B2|A2)=1

    用条件概率与全概率公式可得：

      ![image.png](https://upload-images.jianshu.io/upload_images/2106579-ffae995e80e3a67b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

理解：

*   考虑不同的基本事件，可由不同的过程推导出同样的答案

## 三门问题

问题描述：有三道关着的门，门后有不同价值的奖品，分别为车、羊、羊，玩家希望获得车，当玩家选择了一扇门后，主持人会打开一扇只含羊的门，然后问玩家要改变自己的选择吗？即改变前后，中奖的概率会变化吗？

解法：

*   不改变决策：主持人打不打开只含羊的门跟你没关系，中奖概率仅取决于第一次选择，P=1/3

*   改变决策：

    *   直观解法：

        *   假设1:选择的是羊，主持人打开了羊，于是换成车，bingo！

        *   假设2:选择的是羊，主持人打开了羊，于是换成车，bingo！

        *   假设3:选择的是车，主持人打开了两个羊中的一个，于是换成另一个羊，sad！

        *   三个假设的事件概率相等，于是改变决策中奖的概率是P=2/3

    *   贝叶斯公式：

        玩家第一次打开的门是A，主持人打开的门是B，事件CarA定义为车在A的概率，事件OpenB定义为主持人打开B的概率

        如果车在A门后，那么主持人选择BC中的一扇门打开，P(OpenB|CarA)=1/2

        如果车在C门后，那么主持人只会选择把B打开，P(OpenB|CarC)=1

        于是，车在A的后验概率为：

           ![image.png](https://upload-images.jianshu.io/upload_images/2106579-d8aed22e5c5df024.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

        车在C的后验概率为：

          ![image.png](https://upload-images.jianshu.io/upload_images/2106579-5f94044ee48c6237.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

        故，玩家选择改变策略后，中奖概率从1/3提高到2/3

*   知乎上的一些回答：

    *   "If you change, you win when your original choice was wrong; if you don't change, you win when your original choice was right." — Horst Hohberger

        作者：Laputa

        链接：[https://www.zhihu.com/question/26709273/answer/157940623](https://www.zhihu.com/question/26709273/answer/157940623)

        来源：知乎

        著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

    *   你手头的这扇门，和另一扇门的区别是：另一扇门经过了一次考验，它曾经可能被排除掉，然而它并没有。你手头的门却一直被你保护着不被主持人排除掉，显然经历过考验的那扇门会更可靠。

        作者：魔堕凡尘

        链接：[https://www.zhihu.com/question/26709273/answer/275756035](https://www.zhihu.com/question/26709273/answer/275756035)

        来源：知乎

        著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

联想

*   玩家在面临三选一的抉择时，正确的概率为1/3，这个是事实，假设主持人排除掉错误答案的时机是在玩家在做选择前，主持人排除掉的选项玩家是无论如何也不会去选的，也就是说这时变成了二选一，当然正确的概率为1/2。

*   玩家做出三选一的抉择后，另外两扇门应该是等价的，主持人排除掉一个，那么两扇门就变得不等价了，正如知乎上所说的，另一扇门经过了一次考验，使得概率增强

## 两个问题的联系

错误的思考

*   酒鬼喝酒的概率是0.9，在A、B没被抓住，那么喝酒的事件被压缩到C上，喝酒的概率为0.9，在C中被抓到的概率为0.9

*   玩家三选一，主持人去掉一个错误答案，只剩一个正确答案和错误答案，于是概率为0.5

错在哪？

*   警察抓酒鬼之前，是不知道酒鬼的状态的，酒鬼有可能在家，也有可能在A、B、C中的一个，警察跑了两个酒吧，消除了两种喝酒状态，也就说降低了喝酒的概率，原来喝酒的概率是0.9，现在喝酒的概率是0.75

*   主持人去掉一个错误答案时，他是知道哪个是错误的，对于玩家而言，他中奖的概率提高了，原来是1/3，现在（改变决策）是2/3

扩展

*   如果酒鬼提前给警察打好招呼，肯定不去A和B，那如果警察先去A、B抓人，对酒鬼喝酒的概率没有影响，原来是0.9，现在还是0.9

*   如果主持人不告诉玩家一个错误答案，那玩家改变决策会对中奖的概率有影响吗？显然，玩家还是在三个选择中打转，中奖概率还是1/3

## 三个囚犯

问题描述：有A、B、C三个囚犯，其中一个人被赦免，另外两人被杀死，有一个看守知道谁被赦免了，但是他不能说谁被赦免了，他只能说两个要被杀死的人其中一个是谁，而且还不能告诉提问者是否被杀死。A问看守，看守说B要被杀死，求这种情况下，A被赦免的概率。

解法

*   A没问看守之前，A、B、C三人被赦免的概率都为1/3

*   设事件D为看守说出B要被杀死，事件A为A被赦免，事件B为B被赦免，事件C为C被赦免

    如果A被赦免，则看守会从BC中选一个说死，则P(D|A)=1/2

    如果B被赦免，看守不可能说B死，则P(D|B)=0

    如果C被赦免，则看守只能说B死，则P(D|C)=1

    那么A、B被赦免的后验概率为：
    
      ![image.png](https://upload-images.jianshu.io/upload_images/2106579-3a97584f4ae484ca.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

      ![image.png](https://upload-images.jianshu.io/upload_images/2106579-1c3d716c60c55fde.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

*   可以发现，当A问了看守后，他生存的概率还是1/3，而C的生存概率从1/3变为了2/3

理解

*   A问看守，看守只会说B或C会死一个，另一个相当于经过了一次考验，于是其被赦免的概率增强

*   其实像这种情形，如果A不关心其他人的死活，去询问看守是毫无意义的

*   从C被赦免概率增加来看，C会不会期待A去问看守呢？不会，因为看守有可能会说C死，所以C被赦免概率的增加是以经历一次生死考验为代价的

> 想利用好贝叶斯公式，关键是构建合理的事件，把方方面面都考虑到，计算过程是一目了然的